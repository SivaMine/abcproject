{"ast":null,"code":"'use strict';\n\nvar regex = {\n    hexa: /^#(?:[0-9a-fA-F]{3}){1,2}$/,\n    rgba: /^rgba\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3}), ?(.?\\d{1,3})\\)$/,\n    rgb: /^rgb\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)$/,\n    hsla: /^hsla\\((\\d{1,3}), ?(\\d{1,3})%, ?(\\d{1,3})%, ?(.?\\d{1,3})\\)$/,\n    hsl: /^hsl\\((\\d{1,3}), ?(\\d{1,3})%, ?(\\d{1,3})%\\)$/\n  },\n  match;\nmodule.exports = function (color) {\n  switch (identifyColorType(color)) {\n    default:\n      this.triggerError('colorType');\n    case 'hexa':\n      return hexToRgba(color);\n    case 'rgba':\n      return [parseInt(match[1], 10), parseInt(match[2], 10), parseInt(match[3], 10), parseFloat(match[4])];\n    case 'rgb':\n      return [parseInt(match[1], 10), parseInt(match[2], 10), parseInt(match[3], 10), 1];\n    case 'hsla':\n      return hslaToRgb(parseInt(match[1], 10) / 360, parseInt(match[2], 10) / 100, parseInt(match[3], 10) / 100, parseFloat(match[4]));\n    case 'hsl':\n      return hslaToRgb(parseInt(match[1], 10) / 360, parseInt(match[2], 10) / 100, parseInt(match[3], 10) / 100, 1);\n  }\n};\nfunction identifyColorType(color) {\n  var colorTypes = Object.keys(regex);\n  var i = 0;\n  for (i; i < colorTypes.length; i++) {\n    match = regex[colorTypes[i]].exec(color);\n    if (match) return colorTypes[i];\n  }\n  return false;\n}\nfunction hexToRgba(hex) {\n  // Expand shorthand form (e.g. '03F') to full form (e.g. '0033FF')\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16), 1] : null;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\nfunction hslaToRgb(h, s, l, a) {\n  var r, g, b, q, p;\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a];\n}","map":{"version":3,"names":["regex","hexa","rgba","rgb","hsla","hsl","match","module","exports","color","identifyColorType","triggerError","hexToRgba","parseInt","parseFloat","hslaToRgb","colorTypes","Object","keys","i","length","exec","hex","shorthandRegex","replace","m","r","g","b","result","hue2rgb","p","q","t","h","s","l","a","Math","round"],"sources":["D:/eci/web/node_modules/granim/lib/convertColorToRgba.js"],"sourcesContent":["'use strict';\r\n\r\nvar regex = {\r\n\thexa: /^#(?:[0-9a-fA-F]{3}){1,2}$/,\r\n\trgba: /^rgba\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3}), ?(.?\\d{1,3})\\)$/,\r\n\trgb: /^rgb\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)$/,\r\n\thsla: /^hsla\\((\\d{1,3}), ?(\\d{1,3})%, ?(\\d{1,3})%, ?(.?\\d{1,3})\\)$/,\r\n\thsl: /^hsl\\((\\d{1,3}), ?(\\d{1,3})%, ?(\\d{1,3})%\\)$/\r\n}, match;\r\n\r\nmodule.exports = function(color) {\r\n\tswitch(identifyColorType(color)) {\r\n\t\tdefault:\r\n\t\t\tthis.triggerError('colorType');\r\n\r\n\t\tcase 'hexa':\r\n\t\t\treturn hexToRgba(color);\r\n\r\n\t\tcase 'rgba':\r\n\t\t\treturn [\r\n\t\t\t\tparseInt(match[1], 10),\r\n\t\t\t\tparseInt(match[2], 10),\r\n\t\t\t\tparseInt(match[3], 10),\r\n\t\t\t\tparseFloat(match[4])\r\n\t\t\t];\r\n\r\n\t\tcase 'rgb':\r\n\t\t\treturn [\r\n\t\t\t\tparseInt(match[1], 10),\r\n\t\t\t\tparseInt(match[2], 10),\r\n\t\t\t\tparseInt(match[3], 10),\r\n\t\t\t\t1\r\n\t\t\t];\r\n\r\n\t\tcase 'hsla':\r\n\t\t\treturn hslaToRgb(\r\n\t\t\t\tparseInt(match[1], 10) / 360,\r\n\t\t\t\tparseInt(match[2], 10) / 100,\r\n\t\t\t\tparseInt(match[3], 10) / 100,\r\n\t\t\t\tparseFloat(match[4])\r\n\t\t\t);\r\n\r\n\t\tcase 'hsl':\r\n\t\t\treturn hslaToRgb(\r\n\t\t\t\tparseInt(match[1], 10) / 360,\r\n\t\t\t\tparseInt(match[2], 10) / 100,\r\n\t\t\t\tparseInt(match[3], 10) / 100,\r\n\t\t\t\t1\r\n\t\t\t);\r\n\t}\r\n};\r\n\r\nfunction identifyColorType(color) {\r\n\tvar colorTypes = Object.keys(regex);\r\n\tvar i = 0;\r\n\tfor (i; i < colorTypes.length; i++) {\r\n\t\tmatch = regex[colorTypes[i]].exec(color);\r\n\t\tif (match) return colorTypes[i];\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction hexToRgba(hex) {\r\n\t// Expand shorthand form (e.g. '03F') to full form (e.g. '0033FF')\r\n\tvar shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n\thex = hex.replace(shorthandRegex, function(m, r, g, b) {\r\n\t\treturn r + r + g + g + b + b;\r\n\t});\r\n\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\treturn result ? [\r\n\t\tparseInt(result[1], 16),\r\n\t\tparseInt(result[2], 16),\r\n\t\tparseInt(result[3], 16),\r\n\t\t1\r\n\t] : null;\r\n}\r\n\r\nfunction hue2rgb(p, q, t) {\r\n\tif (t < 0) t += 1;\r\n\tif (t > 1) t -= 1;\r\n\tif (t < 1 / 6) return p + (q - p) * 6 * t;\r\n\tif (t < 1 / 2) return q;\r\n\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n\treturn p;\r\n}\r\n\r\nfunction hslaToRgb(h, s, l, a) {\r\n\tvar r, g, b, q, p;\r\n\tif (s === 0) {\r\n\t\tr = g = b = l; // achromatic\r\n\t} else {\r\n\t\tq = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tp = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1/3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1/3);\r\n\t}\r\n\treturn [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a];\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}