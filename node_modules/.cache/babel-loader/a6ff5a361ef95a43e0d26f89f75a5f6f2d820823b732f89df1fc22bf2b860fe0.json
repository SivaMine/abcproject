{"ast":null,"code":"'use strict';\n\nmodule.exports = function (inputType) {\n  var xPositionValues = ['left', 'center', 'right'];\n  var yPositionValues = ['top', 'center', 'bottom'];\n  var stretchModeValues = ['none', 'stretch', 'stretch-if-smaller', 'stretch-if-bigger'];\n  var blendingModeValues = ['multiply', 'screen', 'normal', 'overlay', 'darken', 'lighten', 'lighter', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  var directionValues = ['diagonal', 'left-right', 'top-bottom', 'radial', 'custom'];\n  switch (inputType) {\n    case 'image':\n      // Validate image.position\n      if (!Array.isArray(this.image.position) || this.image.position.length !== 2 || xPositionValues.indexOf(this.image.position[0]) === -1 || yPositionValues.indexOf(this.image.position[1]) === -1) {\n        this.triggerError('image.position');\n      }\n      // Validate image.stretchMode\n      if (this.image.stretchMode) {\n        if (!Array.isArray(this.image.stretchMode) || this.image.stretchMode.length !== 2 || stretchModeValues.indexOf(this.image.stretchMode[0]) === -1 || stretchModeValues.indexOf(this.image.stretchMode[1]) === -1) {\n          this.triggerError('image.stretchMode');\n        }\n      }\n      break;\n    case 'blendingMode':\n      if (blendingModeValues.indexOf(this.image.blendingMode) === -1) {\n        this.clear();\n        this.triggerError('blendingMode');\n      }\n      break;\n    case 'direction':\n      if (directionValues.indexOf(this.direction) === -1) {\n        this.triggerError('direction');\n      } else {\n        if (this.direction === 'custom') {\n          if (!areDefinedInPixelsOrPercentage([this.customDirection.x0, this.customDirection.x1, this.customDirection.y0, this.customDirection.y1])) {\n            this.triggerError('customDirection');\n          }\n        }\n      }\n      break;\n  }\n};\nfunction areDefinedInPixelsOrPercentage(array) {\n  var definedInPixelsOrPercentage = true,\n    i = 0,\n    value;\n  while (definedInPixelsOrPercentage && i < array.length) {\n    value = array[i];\n    if (typeof value !== 'string') {\n      definedInPixelsOrPercentage = false;\n    } else {\n      var splittedValue = null;\n      var unit = null;\n      if (value.indexOf('px') !== -1) unit = 'px';\n      if (value.indexOf('%') !== -1) unit = '%';\n      splittedValue = value.split(unit).filter(function (value) {\n        return value.length > 0;\n      });\n      // Check if there is a unit ('px' or '%'),\n      // a char before the unit,\n      // no char after the unit,\n      // the string without the unit is only composed of digits\n      if (!unit || splittedValue.length > 2 || !splittedValue[0] || splittedValue[1] || !/^-?\\d+\\.?\\d*$/.test(splittedValue[0])) {\n        definedInPixelsOrPercentage = false;\n      }\n    }\n    i++;\n  }\n  return definedInPixelsOrPercentage;\n}","map":{"version":3,"names":["module","exports","inputType","xPositionValues","yPositionValues","stretchModeValues","blendingModeValues","directionValues","Array","isArray","image","position","length","indexOf","triggerError","stretchMode","blendingMode","clear","direction","areDefinedInPixelsOrPercentage","customDirection","x0","x1","y0","y1","array","definedInPixelsOrPercentage","i","value","splittedValue","unit","split","filter","test"],"sources":["D:/eci/web/node_modules/granim/lib/validateInput.js"],"sourcesContent":["'use strict';\r\n\r\nmodule.exports = function(inputType) {\r\n\tvar xPositionValues = ['left', 'center', 'right'];\r\n\tvar yPositionValues = ['top', 'center', 'bottom'];\r\n\tvar stretchModeValues = ['none', 'stretch', 'stretch-if-smaller', 'stretch-if-bigger'];\r\n\tvar blendingModeValues = ['multiply', 'screen', 'normal', 'overlay', 'darken',\r\n\t\t'lighten', 'lighter', 'color-dodge', 'color-burn', 'hard-light', 'soft-light',\r\n\t\t'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\r\n\tvar directionValues = ['diagonal', 'left-right', 'top-bottom', 'radial', 'custom'];\r\n\r\n\tswitch(inputType) {\r\n\t\tcase 'image':\r\n\t\t\t// Validate image.position\r\n\t\t\tif ((!Array.isArray(this.image.position) || this.image.position.length !== 2) ||\r\n\t\t\t\txPositionValues.indexOf(this.image.position[0]) === -1 ||\r\n\t\t\t\tyPositionValues.indexOf(this.image.position[1]) === -1\r\n\t\t\t) { this.triggerError('image.position'); }\r\n\t\t\t// Validate image.stretchMode\r\n\t\t\tif (this.image.stretchMode) {\r\n\t\t\t\tif ((!Array.isArray(this.image.stretchMode) || this.image.stretchMode.length !== 2) ||\r\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[0]) === -1 ||\r\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[1]) === -1\r\n\t\t\t\t) { this.triggerError('image.stretchMode'); }\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'blendingMode':\r\n\t\t\tif (blendingModeValues.indexOf(this.image.blendingMode) === -1) {\r\n\t\t\t\tthis.clear();\r\n\t\t\t\tthis.triggerError('blendingMode');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'direction':\r\n\t\t\tif (directionValues.indexOf(this.direction) === -1) {\r\n\t\t\t\tthis.triggerError('direction');\r\n\t\t\t} else {\r\n\t\t\t\tif (this.direction === 'custom') {\r\n\t\t\t\t\tif (!areDefinedInPixelsOrPercentage([\r\n\t\t\t\t\t\tthis.customDirection.x0,\r\n\t\t\t\t\t\tthis.customDirection.x1,\r\n\t\t\t\t\t\tthis.customDirection.y0,\r\n\t\t\t\t\t\tthis.customDirection.y1\r\n\t\t\t\t\t])) {\r\n\t\t\t\t\t\tthis.triggerError('customDirection');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t}\r\n};\r\n\r\nfunction areDefinedInPixelsOrPercentage(array) {\r\n\tvar definedInPixelsOrPercentage = true, i = 0, value;\r\n\twhile (definedInPixelsOrPercentage && i < array.length) {\r\n\t\tvalue = array[i];\r\n\t\tif (typeof value !== 'string') {\r\n\t\t\tdefinedInPixelsOrPercentage = false;\r\n\t\t} else {\r\n\t\t\tvar splittedValue = null;\r\n\t\t\tvar unit = null;\r\n\t\t\tif (value.indexOf('px') !== -1) unit = 'px';\r\n\t\t\tif (value.indexOf('%') !== -1) unit = '%';\r\n\t\t\tsplittedValue = value.split(unit).filter(function(value) {\r\n\t\t\t\treturn value.length > 0;\r\n\t\t\t});\r\n\t\t\t// Check if there is a unit ('px' or '%'),\r\n\t\t\t// a char before the unit,\r\n\t\t\t// no char after the unit,\r\n\t\t\t// the string without the unit is only composed of digits\r\n\t\t\tif (\r\n\t\t\t\t!unit\r\n\t\t\t\t|| splittedValue.length > 2\r\n\t\t\t\t|| !splittedValue[0]\r\n\t\t\t\t|| splittedValue[1]\r\n\t\t\t\t|| !/^-?\\d+\\.?\\d*$/.test(splittedValue[0])\r\n\t\t\t) {\r\n\t\t\t\tdefinedInPixelsOrPercentage = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n\treturn definedInPixelsOrPercentage;\r\n}\r\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAG,UAASC,SAAS,EAAE;EACpC,IAAIC,eAAe,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC;EACjD,IAAIC,eAAe,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,CAAC;EACjD,IAAIC,iBAAiB,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,oBAAoB,EAAE,mBAAmB,CAAC;EACtF,IAAIC,kBAAkB,GAAG,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAC5E,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,EAC7E,YAAY,EAAE,WAAW,EAAE,KAAK,EAAE,YAAY,EAAE,OAAO,EAAE,YAAY,CAAC;EACvE,IAAIC,eAAe,GAAG,CAAC,UAAU,EAAE,YAAY,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,CAAC;EAElF,QAAOL,SAAS;IACf,KAAK,OAAO;MACX;MACA,IAAK,CAACM,KAAK,CAACC,OAAO,CAAC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAC,IAAI,IAAI,CAACD,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,CAAC,IAC3ET,eAAe,CAACU,OAAO,CAAC,IAAI,CAACH,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IACtDP,eAAe,CAACS,OAAO,CAAC,IAAI,CAACH,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EACrD;QAAE,IAAI,CAACG,YAAY,CAAC,gBAAgB,CAAC;MAAE;MACzC;MACA,IAAI,IAAI,CAACJ,KAAK,CAACK,WAAW,EAAE;QAC3B,IAAK,CAACP,KAAK,CAACC,OAAO,CAAC,IAAI,CAACC,KAAK,CAACK,WAAW,CAAC,IAAI,IAAI,CAACL,KAAK,CAACK,WAAW,CAACH,MAAM,KAAK,CAAC,IACjFP,iBAAiB,CAACQ,OAAO,CAAC,IAAI,CAACH,KAAK,CAACK,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAC3DV,iBAAiB,CAACQ,OAAO,CAAC,IAAI,CAACH,KAAK,CAACK,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAC1D;UAAE,IAAI,CAACD,YAAY,CAAC,mBAAmB,CAAC;QAAE;MAC7C;MACA;IAED,KAAK,cAAc;MAClB,IAAIR,kBAAkB,CAACO,OAAO,CAAC,IAAI,CAACH,KAAK,CAACM,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE;QAC/D,IAAI,CAACC,KAAK,CAAC,CAAC;QACZ,IAAI,CAACH,YAAY,CAAC,cAAc,CAAC;MAClC;MACA;IAED,KAAK,WAAW;MACf,IAAIP,eAAe,CAACM,OAAO,CAAC,IAAI,CAACK,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;QACnD,IAAI,CAACJ,YAAY,CAAC,WAAW,CAAC;MAC/B,CAAC,MAAM;QACN,IAAI,IAAI,CAACI,SAAS,KAAK,QAAQ,EAAE;UAChC,IAAI,CAACC,8BAA8B,CAAC,CACnC,IAAI,CAACC,eAAe,CAACC,EAAE,EACvB,IAAI,CAACD,eAAe,CAACE,EAAE,EACvB,IAAI,CAACF,eAAe,CAACG,EAAE,EACvB,IAAI,CAACH,eAAe,CAACI,EAAE,CACvB,CAAC,EAAE;YACH,IAAI,CAACV,YAAY,CAAC,iBAAiB,CAAC;UACrC;QACD;MACD;MACA;EACF;AACD,CAAC;AAED,SAASK,8BAA8BA,CAACM,KAAK,EAAE;EAC9C,IAAIC,2BAA2B,GAAG,IAAI;IAAEC,CAAC,GAAG,CAAC;IAAEC,KAAK;EACpD,OAAOF,2BAA2B,IAAIC,CAAC,GAAGF,KAAK,CAACb,MAAM,EAAE;IACvDgB,KAAK,GAAGH,KAAK,CAACE,CAAC,CAAC;IAChB,IAAI,OAAOC,KAAK,KAAK,QAAQ,EAAE;MAC9BF,2BAA2B,GAAG,KAAK;IACpC,CAAC,MAAM;MACN,IAAIG,aAAa,GAAG,IAAI;MACxB,IAAIC,IAAI,GAAG,IAAI;MACf,IAAIF,KAAK,CAACf,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAEiB,IAAI,GAAG,IAAI;MAC3C,IAAIF,KAAK,CAACf,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAEiB,IAAI,GAAG,GAAG;MACzCD,aAAa,GAAGD,KAAK,CAACG,KAAK,CAACD,IAAI,CAAC,CAACE,MAAM,CAAC,UAASJ,KAAK,EAAE;QACxD,OAAOA,KAAK,CAAChB,MAAM,GAAG,CAAC;MACxB,CAAC,CAAC;MACF;MACA;MACA;MACA;MACA,IACC,CAACkB,IAAI,IACFD,aAAa,CAACjB,MAAM,GAAG,CAAC,IACxB,CAACiB,aAAa,CAAC,CAAC,CAAC,IACjBA,aAAa,CAAC,CAAC,CAAC,IAChB,CAAC,eAAe,CAACI,IAAI,CAACJ,aAAa,CAAC,CAAC,CAAC,CAAC,EACzC;QACDH,2BAA2B,GAAG,KAAK;MACpC;IACD;IACAC,CAAC,EAAE;EACJ;EACA,OAAOD,2BAA2B;AACnC"},"metadata":{},"sourceType":"script","externalDependencies":[]}