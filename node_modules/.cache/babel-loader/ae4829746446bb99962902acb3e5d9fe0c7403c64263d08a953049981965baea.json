{"ast":null,"code":"'use strict';\n\nmodule.exports = function () {\n  var currentColors = this.getCurrentColors();\n  var gradientAverage = null;\n  var lightnessAverage, i;\n  var colorsAverage = currentColors.map(function (el) {\n    // Compute the average lightness of each color\n    // in the current gradient\n    return Math.max(el[0], el[1], el[2]);\n  });\n  for (i = 0; i < colorsAverage.length; i++) {\n    // Add all the average lightness of each color\n    gradientAverage = gradientAverage === null ? colorsAverage[i] : gradientAverage + colorsAverage[i];\n    if (i === colorsAverage.length - 1) {\n      // if it's the last lightness average\n      // divide it by the total length to\n      // have the global average lightness\n      lightnessAverage = Math.round(gradientAverage / (i + 1));\n    }\n  }\n  return lightnessAverage >= 128 ? 'light' : 'dark';\n};","map":{"version":3,"names":["module","exports","currentColors","getCurrentColors","gradientAverage","lightnessAverage","i","colorsAverage","map","el","Math","max","length","round"],"sources":["D:/eci/web/node_modules/granim/lib/getLightness.js"],"sourcesContent":["'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar currentColors = this.getCurrentColors();\r\n\tvar gradientAverage = null;\r\n\tvar lightnessAverage, i;\r\n\tvar colorsAverage = currentColors.map(function(el) {\r\n\t\t// Compute the average lightness of each color\r\n\t\t// in the current gradient\r\n\t\treturn Math.max(el[0], el[1], el[2]);\r\n\t});\r\n\r\n\tfor (i = 0; i < colorsAverage.length; i++) {\r\n\t\t// Add all the average lightness of each color\r\n\t\tgradientAverage = gradientAverage === null ?\r\n\t\t\tcolorsAverage[i] : gradientAverage + colorsAverage[i];\r\n\r\n\t\tif (i === colorsAverage.length - 1) {\r\n\t\t\t// if it's the last lightness average\r\n\t\t\t// divide it by the total length to\r\n\t\t\t// have the global average lightness\r\n\t\t\tlightnessAverage = Math.round(gradientAverage / (i + 1));\r\n\t\t}\r\n\t}\r\n\r\n\treturn lightnessAverage >= 128 ? 'light' : 'dark';\r\n};\r\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAG,YAAW;EAC3B,IAAIC,aAAa,GAAG,IAAI,CAACC,gBAAgB,CAAC,CAAC;EAC3C,IAAIC,eAAe,GAAG,IAAI;EAC1B,IAAIC,gBAAgB,EAAEC,CAAC;EACvB,IAAIC,aAAa,GAAGL,aAAa,CAACM,GAAG,CAAC,UAASC,EAAE,EAAE;IAClD;IACA;IACA,OAAOC,IAAI,CAACC,GAAG,CAACF,EAAE,CAAC,CAAC,CAAC,EAAEA,EAAE,CAAC,CAAC,CAAC,EAAEA,EAAE,CAAC,CAAC,CAAC,CAAC;EACrC,CAAC,CAAC;EAEF,KAAKH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,aAAa,CAACK,MAAM,EAAEN,CAAC,EAAE,EAAE;IAC1C;IACAF,eAAe,GAAGA,eAAe,KAAK,IAAI,GACzCG,aAAa,CAACD,CAAC,CAAC,GAAGF,eAAe,GAAGG,aAAa,CAACD,CAAC,CAAC;IAEtD,IAAIA,CAAC,KAAKC,aAAa,CAACK,MAAM,GAAG,CAAC,EAAE;MACnC;MACA;MACA;MACAP,gBAAgB,GAAGK,IAAI,CAACG,KAAK,CAACT,eAAe,IAAIE,CAAC,GAAG,CAAC,CAAC,CAAC;IACzD;EACD;EAEA,OAAOD,gBAAgB,IAAI,GAAG,GAAG,OAAO,GAAG,MAAM;AAClD,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}