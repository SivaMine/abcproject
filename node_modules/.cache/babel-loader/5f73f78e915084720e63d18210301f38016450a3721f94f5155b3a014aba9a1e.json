{"ast":null,"code":"'use strict';\n\nmodule.exports = function () {\n  var _this = this;\n  if (this.scrollDebounceTimeout) clearTimeout(this.scrollDebounceTimeout);\n  this.scrollDebounceTimeout = setTimeout(function () {\n    var elPos = _this.canvas.getBoundingClientRect();\n    _this.isCanvasInWindowView = !(elPos.bottom < 0 || elPos.right < 0 || elPos.left > window.innerWidth || elPos.top > window.innerHeight);\n    if (_this.isCanvasInWindowView) {\n      if (!_this.isPaused || _this.firstScrollInit) {\n        if (_this.image && !_this.isImgLoaded) {\n          return;\n        }\n        _this.isPausedBecauseNotInView = false;\n        _this.play('isPlayedBecauseInView');\n        _this.firstScrollInit = false;\n      }\n    } else {\n      if (!_this.image && _this.firstScrollInit) {\n        _this.refreshColorsAndPos();\n        _this.firstScrollInit = false;\n      }\n      if (!_this.isPaused && !_this.isPausedBecauseNotInView) {\n        _this.isPausedBecauseNotInView = true;\n        _this.pause('isPausedBecauseNotInView');\n      }\n    }\n  }, this.scrollDebounceThreshold);\n};","map":{"version":3,"names":["module","exports","_this","scrollDebounceTimeout","clearTimeout","setTimeout","elPos","canvas","getBoundingClientRect","isCanvasInWindowView","bottom","right","left","window","innerWidth","top","innerHeight","isPaused","firstScrollInit","image","isImgLoaded","isPausedBecauseNotInView","play","refreshColorsAndPos","pause","scrollDebounceThreshold"],"sources":["D:/eci/web/node_modules/granim/lib/pauseWhenNotInView.js"],"sourcesContent":["'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar _this = this;\r\n\tif (this.scrollDebounceTimeout) clearTimeout(this.scrollDebounceTimeout);\r\n\r\n\tthis.scrollDebounceTimeout = setTimeout(function() {\r\n\t\tvar elPos = _this.canvas.getBoundingClientRect();\r\n\t\t_this.isCanvasInWindowView = !(elPos.bottom < 0 || elPos.right < 0 ||\r\n\t\t\telPos.left > window.innerWidth || elPos.top > window.innerHeight);\r\n\r\n\t\tif (_this.isCanvasInWindowView) {\r\n\t\t\tif (!_this.isPaused || _this.firstScrollInit) {\r\n\t\t\t\tif (_this.image && !_this.isImgLoaded) {return;}\r\n\t\t\t\t_this.isPausedBecauseNotInView = false;\r\n\t\t\t\t_this.play('isPlayedBecauseInView');\r\n\t\t\t\t_this.firstScrollInit = false;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (!_this.image && _this.firstScrollInit) {\r\n\t\t\t\t_this.refreshColorsAndPos();\r\n\t\t\t\t_this.firstScrollInit = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (!_this.isPaused && !_this.isPausedBecauseNotInView) {\r\n\t\t\t\t_this.isPausedBecauseNotInView = true;\r\n\t\t\t\t_this.pause('isPausedBecauseNotInView');\r\n\t\t\t}\r\n\t\t}\r\n\t}, this.scrollDebounceThreshold);\r\n};\r\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAG,YAAW;EAC3B,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAI,IAAI,CAACC,qBAAqB,EAAEC,YAAY,CAAC,IAAI,CAACD,qBAAqB,CAAC;EAExE,IAAI,CAACA,qBAAqB,GAAGE,UAAU,CAAC,YAAW;IAClD,IAAIC,KAAK,GAAGJ,KAAK,CAACK,MAAM,CAACC,qBAAqB,CAAC,CAAC;IAChDN,KAAK,CAACO,oBAAoB,GAAG,EAAEH,KAAK,CAACI,MAAM,GAAG,CAAC,IAAIJ,KAAK,CAACK,KAAK,GAAG,CAAC,IACjEL,KAAK,CAACM,IAAI,GAAGC,MAAM,CAACC,UAAU,IAAIR,KAAK,CAACS,GAAG,GAAGF,MAAM,CAACG,WAAW,CAAC;IAElE,IAAId,KAAK,CAACO,oBAAoB,EAAE;MAC/B,IAAI,CAACP,KAAK,CAACe,QAAQ,IAAIf,KAAK,CAACgB,eAAe,EAAE;QAC7C,IAAIhB,KAAK,CAACiB,KAAK,IAAI,CAACjB,KAAK,CAACkB,WAAW,EAAE;UAAC;QAAO;QAC/ClB,KAAK,CAACmB,wBAAwB,GAAG,KAAK;QACtCnB,KAAK,CAACoB,IAAI,CAAC,uBAAuB,CAAC;QACnCpB,KAAK,CAACgB,eAAe,GAAG,KAAK;MAC9B;IAED,CAAC,MAAM;MACN,IAAI,CAAChB,KAAK,CAACiB,KAAK,IAAIjB,KAAK,CAACgB,eAAe,EAAE;QAC1ChB,KAAK,CAACqB,mBAAmB,CAAC,CAAC;QAC3BrB,KAAK,CAACgB,eAAe,GAAG,KAAK;MAC9B;MAEA,IAAI,CAAChB,KAAK,CAACe,QAAQ,IAAI,CAACf,KAAK,CAACmB,wBAAwB,EAAE;QACvDnB,KAAK,CAACmB,wBAAwB,GAAG,IAAI;QACrCnB,KAAK,CAACsB,KAAK,CAAC,0BAA0B,CAAC;MACxC;IACD;EACD,CAAC,EAAE,IAAI,CAACC,uBAAuB,CAAC;AACjC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}